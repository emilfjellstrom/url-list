function f(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:f(a)}}function k(){var a=l;if(!(a instanceof Array)){a=h(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function m(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{c:e,f:g}}return{c:-1,f:void 0}}
var p="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function q(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var r=q(this);
function t(a,b){if(b)a:{var c=r;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&p(c,a,{configurable:!0,writable:!0,value:b})}}t("Array.prototype.find",function(a){return a?a:function(b,c){return m(this,b,c).f}});
t("String.prototype.startsWith",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var d=this.length,e=b.length;c=Math.max(0,Math.min(c|0,this.length));for(var g=0;g<e&&c<d;)if(this[c++]!=b[g++])return!1;return g>=e}});
t("Array.prototype.findIndex",function(a){return a?a:function(b,c){return m(this,b,c).c}});var l=[],u=1,v=document.getElementsByTagName("form")[0],x=document.getElementById("url"),y=document.getElementById("url-list"),z=document.getElementById("url-error"),A=document.getElementById("back-pagination"),B=document.getElementById("forward-pagination"),C=document.getElementById("pagination"),D=document.getElementById("url-list-container");
window.addEventListener("load",function(){v.reset();if(document.cookie.split("; ").find(function(b){return b.startsWith("links")})){var a=document.cookie.split("; ").find(function(b){return b.startsWith("links")}).split("=")[1];l=JSON.parse(a);0<l.length&&E()}F();G(1)});x.addEventListener("input",function(a){0<a.target.value.length?x.classList.add("active"):x.classList.remove("active")});
v.addEventListener("submit",function(a){x.validity.valid?(z.classList.remove("active"),l.some(function(b){return b.url===x.value})?(z.classList.add("active"),z.textContent="Url already in list"):(z.textContent="",l.unshift({id:Date.now(),url:x.value.trim()}),F(),G(1),1===l.length&&E())):x.validity.valueMissing?(z.classList.add("active"),z.textContent="You need to enter a valid url"):x.validity.typeMismatch&&(z.classList.add("active"),z.textContent="i.e. http://example.com, https://example.com");document.cookie=
"links="+JSON.stringify(l)+";";a.preventDefault()});function H(a){var b=document.querySelector('[data-key="'+a+'"]');l=l.filter(function(c){return c.id!==a});b.remove();document.cookie="links="+JSON.stringify(l)+";";F();0===y.childElementCount?G(u-1):G(u);0===l.length&&document.getElementById("submitBtn").remove()}
function G(a){u=a;1===a||0===l.length?A.disabled=!0:(A.disabled=!1,A.onclick=function(){return G(a-1)});a===Math.ceil(l.length/20)||0===l.length?B.disabled=!0:(B.disabled=!1,B.onclick=function(){return G(a+1)});document.querySelectorAll("[data-button]").forEach(function(c){return c.classList.remove("active")});var b=document.querySelector('[data-button="'+a+'"]');b&&b.classList.add("active");return I(l.slice(20*(a-1),20*a))}
function F(){for(var a=Math.ceil(l.length/20);C.firstChild;)C.removeChild(C.firstChild);for(var b={a:0};b.a<a;b={a:b.a},b.a++){var c=document.createElement("li"),d=document.createElement("button");d.setAttribute("data-button",b.a+1);d.classList.add("data-button");d.innerHTML=b.a+1;d.onclick=function(e){return function(){return G(e.a+1)}}(b);C.append(c.appendChild(d))}}
function I(a){for(;y.firstChild;)y.removeChild(y.firstChild);var b={};a=h(a);for(var c=a.next();!c.done;b={b:b.b},c=a.next()){b.b=c.value;c=document.createElement("li");c.classList.add("url-list-item");c.setAttribute("data-key",b.b.id);var d=document.createElement("a");d.classList.add("url-list-link");d.setAttribute("href",b.b.url);d.setAttribute("target","_blank");d.setAttribute("rel","noreferrer");d.innerHTML=b.b.url;var e=document.createElement("button"),g=document.createElement("img");g.setAttribute("src",
"./icon/cancel-black-18dp.svg");e.classList.add("btn-icon");e.appendChild(g);e.onclick=function(w){return function(){return H(w.b.id)}}(b);g=document.createElement("button");var n=document.createElement("img");n.setAttribute("src","./icon/edit-black-18dp.svg");g.classList.add("btn-icon");g.appendChild(n);g.onclick=function(w){return function(){return J(w.b.id)}}(b);n=document.createElement("div");n.classList.add("url-button-container");n.appendChild(g);n.appendChild(e);c.append(d,n);y.appendChild(c)}10<
y.childElementCount?y.classList.add("phantom"):y.classList.remove("phantom")}
function J(a){var b=document.querySelector('[data-key="'+a+'"]'),c=prompt("Enter a new valid url");if(null!==c)if(/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)){if(l.some(function(g){return g.url===c}))return alert("Url already in list");
var d=l.findIndex(function(g){return g.id==a}),e=k().concat();e[d]=Object.assign({},e[d],{url:c});l=e;document.cookie="links="+JSON.stringify(l)+";";b.children[0].href=c;b.children[0].innerHTML=c}else alert("Invalid format")}function E(){var a=document.createElement("a");a.setAttribute("href","result.html");a.setAttribute("id","submitBtn");a.classList.add("result");a.innerHTML="Submit links";D.appendChild(a)};
