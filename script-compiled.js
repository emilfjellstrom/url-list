function g(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:g(a)}}function k(){var a=l;if(!(a instanceof Array)){a=h(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var m="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function p(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var q=p(this);function r(a,b){if(b)a:{var c=q;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&m(c,a,{configurable:!0,writable:!0,value:b})}}
r("Array.prototype.findIndex",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++)if(b.call(c,d[f],f,d)){b=f;break a}b=-1}return b}});var l=[],t=document.getElementById("url"),u=document.getElementById("url-list"),v=document.getElementById("url-error"),w=document.getElementById("pagination");
document.getElementsByTagName("form")[0].addEventListener("submit",function(a){t.validity.valid?l.some(function(b){return b.url===t.value})?v.textContent="Url already in list":(v.textContent="",l.push({id:Date.now(),url:t.value.trim()}),x(),y(Math.ceil(l.length/20))):t.validity.valueMissing?v.textContent="You need to enter an e-mail address.":t.validity.typeMismatch&&(v.textContent="i.e. http://example.com, https://example.com");a.preventDefault()});
function z(a){var b=document.querySelector('[data-key="'+a+'"]');l=l.filter(function(c){return c.id!==a});b.remove()}function y(a){return A(l.slice(20*(a-1),20*a))}function x(){for(var a=Math.ceil(l.length/20);w.firstChild;)w.removeChild(w.firstChild);for(var b={b:0};b.b<a;b={b:b.b},b.b++){var c=document.createElement("li"),d=document.createElement("button");d.innerHTML=b.b+1;d.onclick=function(e){return function(){return y(e.b+1)}}(b);w.append(c.appendChild(d))}}
function A(a){for(;u.firstChild;)u.removeChild(u.firstChild);var b={};a=h(a);for(var c=a.next();!c.done;b={a:b.a},c=a.next()){b.a=c.value;c=document.createElement("li");c.setAttribute("data-key",b.a.id);var d=document.createElement("a");d.setAttribute("href",b.a.url);d.innerHTML=b.a.url;var e=document.createElement("button");e.innerHTML="x";e.onclick=function(n){return function(){return z(n.a.id)}}(b);var f=document.createElement("button");f.innerHTML="edit";f.onclick=function(n){return function(){return B(n.a.id)}}(b);
c.append(d,e,f);u.append(c)}}
function B(a){var b=document.querySelector('[data-key="'+a+'"]'),c=prompt("Enter a new valid url");if(null!==c)if(/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)){var d=l.findIndex(function(f){return f.id==
a}),e=k().concat();e[d]=Object.assign({},e[d],{url:c});l=e;b.children[0].href=c;b.children[0].innerHTML=c}else alert("Invalid format")};
